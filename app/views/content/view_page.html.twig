{% import 'frontend/elements/badge/badge.twig' as Badge %}
{% import 'frontend/elements/link/link_macro.twig' as Link %}
{% extends "global.html.twig" %}
{% block content %}
    <div class="page__main">
        <article class="view-block" {% if info.content_type=='news' %}itemscope
             itemtype="http://schema.org/NewsArticle" {% elseif info.content_type=='articles' %}itemscope
             itemtype="http://schema.org/Article"{% endif %}>
            {% if info.content_type=='news' or info.content_type=='articles' %}
                <meta itemprop="headline" content="{{ info.content_title }}">
                <meta itemprop="dateModified" content="{{ info.datetime }}">
                <meta itemprop="datePublished" content="{{ info.datetime }}">
                <meta itemprop="author" content="{{ global.fields.about.about_name }}"/>
                <meta itemscope itemprop="mainEntityOfPage" itemType="https://schema.org/WebPage"
                      itemid="{{ info.content_full_url }}" content="{{ info.content_title }}"/>
            {% endif %}
            <div class="container container_sm">
                {% if info.content_type=='news' or info.content_type=='articles' %}
                <div class="view-block__top {% if info.share_position%} view-block__top_full {% endif %}">
                    <div class="view-block__top-container">
                        <div class="view-block__l">{{ Badge.element(info.unix_time|date('d.m.Y')) }}</div>
                        <div class="view-block__r">
                            {{ Link.link('javascript:void(0)', 'Поделиться', {
                                mod: 'iconic',
                                icon_left: 'share-icon',
                                onClick: "window.open('https://vkontakte.ru/share.php?url=" ~ info.content_full_url ~ "','sharer','toolbar=0,status=0,width=700,height=400');"
                            }) }}
                        </div>
                    </div>
                </div>
                {% endif %}
                <div class="view-block__content text">
                    {{ info.content_text|raw }}
                </div>
                {% if global.parts and info.content_type!='pages' %}
                    {% include 'frontend/components/tags-block/tags-block.twig' %}
                {% endif %}
            </div>
        </article>
        {% if articles %}
            <div class="m-1">
                {% include 'frontend/components/screen-news/screen-news.twig' %}
            </div>
        {% endif %}
        <div class="m-1">
            {% include 'frontend/components/screen-callback/screen-callback.twig' %}
        </div>
    </div>
{% endblock %}
